<date-filter (changeDate)="onChangeDate($event)"></date-filter>
<div *ngIf="!cardStatement" class="invalid-card-statement">
  <h3>No card statement available for the selected month/year.</h3>
  <button mat-flat-button color="primary" (click)="createStatement()">
    Create Statement
  </button>
</div>
<div *ngIf="cardStatement !== undefined">
  <h3 class="header">Transactions</h3>
  <table mat-table [dataSource]="cardStatement.transactions!">
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Date</th>
      <td mat-cell *matCellDef="let element">
        {{ element.date | date: "d LLL yyyy" }}
      </td>
      <td mat-footer-cell *matFooterCellDef>Total</td>
    </ng-container>
    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td mat-cell *matCellDef="let element">
        {{ element.description }}
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>
    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef>Amount</th>
      <td mat-cell *matCellDef="let element">
        {{ element.amount | currency }}
      </td>
      <td mat-footer-cell *matFooterCellDef>
        {{ getTotalAmount() | currency }}
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      (click)="editTransaction(row)"
      *matRowDef="let row; columns: displayedColumns"
    ></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
  </table>
  <div class="transactions-actions-group">
    <button mat-flat-button color="primary" (click)="openAddCardTransaction()">
      Add
    </button>
  </div>
  <mat-divider></mat-divider>
  <div class="card-rewards-summary">
    <h3 class="header">Card Rewards Summary</h3>
    <!-- <p>Cashback: {{ cardStatement.cashback | currency }}</p>
    <p>Miles: {{ cardStatement.miles }}</p>
    <p>Points: {{ cardStatement.points }}</p> -->
  </div>
</div>
